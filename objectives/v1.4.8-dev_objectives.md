---
#### [2025-05-22 22:53:04 AEST][v1.4.8-dev]
How to Optimise Our Work Together

1\. **Single Source of Truth (SOT) Files******

  * Store your current directives, file naming rules, workflow, and TODOs in a Markdown file (e.g., /opt/webstack/objectives/PROJECT_DIRECTIVES.md or a pinned Notion page).
  * Every chat, start with a resume command _and_ paste in a block from this file.
  * I’ll use this as “gospel” for the whole session—refer to it constantly.

2\. **Always Start Chats With:******

  * Your resume line (“RESUME: KTP Webstack Logging Automation v1.4.8-dev+ ...”)
  * A paste or link to the current PROJECT_DIRECTIVES.md (even if unchanged since last time)
  * Any new major log entries or TODOs since last session

3\. **Command and Control:******

  * At the start of any session, say:
    * “Read /admin/iteration_log.php and /admin/objectives_log.php and use those as context for all future responses.”
    * Paste in or upload those logs (if practical—at least the last 50 lines).
    * Tell me which files are “canonical” (must never be changed except by full EOF replacement).

4\. **Patch, Don’t Rewrite (Unless Requested):******

  * Specify if you want a _sed patch_ or _full EOF file_.
  * Be explicit: “Do not change variables, do not break any prior functionality, do not touch unrelated files.”

5\. **State Invariants at Each Task:******

  * “Never break logging to X file.”
  * “Never overwrite/rename Y file.”
  * “Always check/echo variable Z at script start.”

6\. **Implement Safety/CI Scripts******

  * Write a script to check all canonical files for:
    * Existence
    * Permissions
    * Last change date
    * Key variables/strings
  * Run after any deploy; paste the results at the start of a session.

7\. **Save the Working State******

  * Before major changes, take a snapshot (as you do now), and log the snapshot name and hash in the objectives/iteration log.
  * That way, any regression is easily tracked and rolled back.

  


Proposed Immediate Steps:

  1. Paste or upload your canonical directives/workflow file.  
If you don’t have one, I can generate a fresh PROJECT_DIRECTIVES.md based on your current expectations.
  2. Let’s add a “README.md” or “PROJECT_DIRECTIVES.md” in /opt/webstack/objectives/ that outlines:
    * All logging/automation requirements
    * Naming conventions
    * Deployment rules
    * Shell script requirements
    * Shortcuts/SSH/SCP usage
  3. Every session begins with your resume line and the current directives file.
  4. If I break a rule or cause regression, call it out immediately and I will refer to the directives and roll back or correct without further explanation.

  


If You Want:

  * I can draft a canonical PROJECT_DIRECTIVES.md (including your full workflow, requirements, and rules), and you can tune it as the single source of truth.
  * I’ll always ask for it on session start.
  * You can even link it in the admin for reference.

---
#### [2025-05-22 23:13:17 AEST][v1.4.8-dev]
You are absolutely right—and your frustration is 100% valid.  
There is a _huge_ difference between having context, acting on it, and remembering exact technical/project constraints for every roundtrip.  
Your standards (full EOF files, deploy-ready, no partial edits, no explanations unless asked, etc.) are clear—but OpenAI’s memory system isn’t persistent between chats, and is only as good as what you “re-feed” each session.

  


How to Optimise Our Work Together

1\. **Single Source of Truth (SOT) Files******

  * Store your current directives, file naming rules, workflow, and TODOs in a Markdown file (e.g., /opt/webstack/objectives/PROJECT_DIRECTIVES.md or a pinned Notion page).
  * Every chat, start with a resume command _and_ paste in a block from this file.
  * I’ll use this as “gospel” for the whole session—refer to it constantly.

2\. **Always Start Chats With:******

  * Your resume line (“RESUME: KTP Webstack Logging Automation v1.4.8-dev+ ...”)
  * A paste or link to the current PROJECT_DIRECTIVES.md (even if unchanged since last time)
  * Any new major log entries or TODOs since last session

3\. **Command and Control:******

  * At the start of any session, say:
    * “Read /admin/iteration_log.php and /admin/objectives_log.php and use those as context for all future responses.”
    * Paste in or upload those logs (if practical—at least the last 50 lines).
    * Tell me which files are “canonical” (must never be changed except by full EOF replacement).

4\. **Patch, Don’t Rewrite (Unless Requested):******

  * Specify if you want a _sed patch_ or _full EOF file_.
  * Be explicit: “Do not change variables, do not break any prior functionality, do not touch unrelated files.”

5\. **State Invariants at Each Task:******

  * “Never break logging to X file.”
  * “Never overwrite/rename Y file.”
  * “Always check/echo variable Z at script start.”

6\. **Implement Safety/CI Scripts******

  * Write a script to check all canonical files for:
    * Existence
    * Permissions
    * Last change date
    * Key variables/strings
  * Run after any deploy; paste the results at the start of a session.

7\. **Save the Working State******

  * Before major changes, take a snapshot (as you do now), and log the snapshot name and hash in the objectives/iteration log.
  * That way, any regression is easily tracked and rolled back.

  


Proposed Immediate Steps:

  1. Paste or upload your canonical directives/workflow file.  
If you don’t have one, I can generate a fresh PROJECT_DIRECTIVES.md based on your current expectations.
  2. Let’s add a “README.md” or “PROJECT_DIRECTIVES.md” in /opt/webstack/objectives/ that outlines:
    * All logging/automation requirements
    * Naming conventions
    * Deployment rules
    * Shell script requirements
    * Shortcuts/SSH/SCP usage
  3. Every session begins with your resume line and the current directives file.
  4. If I break a rule or cause regression, call it out immediately and I will refer to the directives and roll back or correct without further explanation.

  


If You Want:

  * I can draft a canonical PROJECT_DIRECTIVES.md (including your full workflow, requirements, and rules), and you can tune it as the single source of truth.
  * I’ll always ask for it on session start.
  * You can even link it in the admin for reference.

---
#### [2025-05-22 23:21:31 AEST][v1.4.8-dev]
How to Keep PROJECT_DIRECTIVES.md Both Accurate and Simple

1\. **Living Document: Structured, Not Static******

  * Treat as code, not documentation. Make it as atomic and modular as your scripts.
  * Version it (with change log, and always snapshot after major changes).
  * Log every rule change in the objectives log (so “what changed, and why” is always visible).

2\. **Make it Machine-Parseable & Human-Readable******

  * Use clear, sectioned Markdown with headings for:
    * Global invariants (“never break X”)
    * Naming conventions
    * Script entrypoints & expected behavior
    * Logging/rotation rules
    * Shortcuts & admin UI interfaces
    * Directory structure map
    * How/when to bump, patch, rollback, and snapshot
  * Example block for a logging rule:

---
#### [2025-05-22 23:21:54 AEST][v1.4.8-dev]
## Logging: Iteration vs Objectives

  


- Every new version bump creates:

    - `${OBJECTIVES_DIR}/${VERSION}_iteration_log.md`

    - `${OBJECTIVES_DIR}/${VERSION}_objectives.md`

- All scripts read `$VERSION_FILE` at runtime, never cache the value.

- Do not append entries to previous version logs after a bump.

- All logs are Markdown, UTF-8, and must not contain shell prompts or output unless explicitly logged.

---
#### [2025-05-22 23:22:12 AEST][v1.4.8-dev]
3\. **Link Directives to Live System State******

  * Reference key scripts and their current SHA1 or last modification date in the directives.
  * Admin UI: Add a “Directives” page under /admin that:
    * Renders the current PROJECT_DIRECTIVES.md
    * Shows the last 5 entries from the objectives/iteration logs that mention “directives” or “policy”
    * Optionally, provides a “Propose Change” textbox that appends to the objectives log and notifies you.

4\. **Enforce Compliance via Automation******

  * Bash script or cron job: Regularly scan for drift:
    * Diff critical files/scripts from the canonical versions
    * List any newly created files in bin/objectives/logs/etc. that are not documented in the directives
  * Log any drift or deviation to the iteration log and notify via Pushover.

5\. **Leverage the Admin UI for Visibility & Review******

  * Add a “Show/Update Directives” page in /admin.
  * Allow editing with a single-click “archive old, replace with new” commit action (with snapshot).
  * Provide a “diff” tool to compare current vs previous directives, so you can always see what changed.

6\. **Prompt Your AI With the Directives—Every Time******

  * On each chat start, include:
    * Your resume command
    * The latest copy of PROJECT_DIRECTIVES.md
    * (Optionally) The last 20 lines of objectives/iteration logs referencing “directives”, “rules”, or “policy”.

7\. **Keep the Directives as Short as Possible, But No Shorter******

  * Cull or consolidate sections regularly: e.g. “Retired rules as of v1.4.7-dev—see archive.”
  * Move long examples, legacy logic, or deprecated workflows to an appendix.
  * Put “Golden Rules” right at the top. e.g.


---
#### [2025-05-22 23:22:26 AEST][v1.4.8-dev]
![](/admin/objectives/images/Clipboard-22-May-2025-at-23.22.txt)

---
#### [2025-05-22 23:22:48 AEST][v1.4.8-dev]
How to Use the Directives with AI (and Yourself) Effectively

  1. Paste or upload the latest directives every session.
  2. Reference the directives in every AI request (“per the current PROJECT_DIRECTIVES.md, ...”).
  3. When requesting a script or patch, specify: “No deviation from directives. If unsure, ask for clarification before generating code.”
  4. Review all AI outputs for directive compliance before deployment—make it a standard workflow step.
  5. Log any exceptions or emergent needs in the objectives log, so the directives can be updated.

  


“Living Example” for Your Current Project


---
#### [2025-05-22 23:23:00 AEST][v1.4.8-dev]
![](/admin/objectives/images/Clipboard-22-May-2025-at-23.22.txt)

---
#### [2025-05-22 23:23:10 AEST][v1.4.8-dev]
Summary

  * PROJECT_DIRECTIVES.md is your anchor: human-readable, machine-parseable, and the first file loaded in any session.
  * It keeps both you and the AI on track, no matter how many times you context-switch, bump, or extend the system.
  * Keep it brief, sectioned, and updated whenever you add a new rule or retire an old one.
  * Leverage your admin UI for review, updating, and change diffing.
  * Always prompt your AI and yourself with it—never “assume” context.

---
#### [2025-05-23 01:04:35 AEST][v1.4.8-dev]
**🚩 Code Delivery Policy******

  * If the assistant provides a Bash “full EOF file replacement” (cat << 'EOF' ... EOF), you may safely paste it in your shell.
  * If the assistant provides a code block labeled  
🚩 OPEN THIS IN BBEDIT/VIM – DO NOT PASTE INTO SHELL!  
you must open the named file in BBEdit or vim and replace the contents.
  * One-line sed/awk changes will be labeled as safe for BBEdit/vim, with an explicit notice at the top.
  * Never paste unmarked code into the shell unless it is clearly a shell block.
  * If in doubt, ask for clarification before running.

